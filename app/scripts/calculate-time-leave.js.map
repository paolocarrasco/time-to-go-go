{"version":3,"sources":["../scripts.babel/calculate-time-leave.js"],"names":[],"mappings":"AAAA,YAAY,CAAC;;AAEb,IAAI,OAAO,CAAC;AACZ,IAAI,UAAU,CAAC;AACf,IAAI,QAAQ,CAAC;AACb,IAAI,eAAe,CAAC;AACpB,IAAI,CAAC,GAAG,OAAO,CAAC,MAAM,CAAC;AACvB,IAAI,MAAM,GAAG,OAAO,CAAC,MAAM,CAAC;;AAE5B,SAAS,oBAAoB,CAAC,OAAO,EAAE,UAAU,EAAE,QAAQ,EAAE;AAC3D,MAAI,WAAW,GAAG,UAAU,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;AAC3C,MAAI,UAAU,GAAG,MAAM,CAAC,QAAQ,CAAC,CAAC,EAAE,OAAO,CAAC,CAAC;AAC7C,MAAI,mBAAmB,GAAG,UAAU,CAAC,QAAQ,CAAC,WAAW,EAAE,cAAc,CAAC,CAAC;AAC3E,SAAO,CAAC,GAAG,CAAC,OAAO,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,CAAC;AACrC,SAAO,CAAC,GAAG,CAAC,UAAU,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,CAAC;AACxC,SAAO,CAAC,GAAG,CAAC,QAAQ,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,CAAC;AACtC,SAAO,QAAQ,CAAC,GAAG,CAAC,mBAAmB,EAAE,cAAc,CAAC,CAAC;CAC1D;;AAED,SAAS,UAAU,CAAC,KAAK,EAAE;AACzB,MAAI,UAAU,GAAG,CAAC,CAAC,2CAA2C,GAAG,KAAK,GAAG,GAAG,CAAC,CAAC,IAAI,EAAE,CAAC;AACrF,SAAO,MAAM,CAAC,UAAU,CAAC,IAAI,EAAE,EAAE,UAAU,CAAC,CAAC;CAC9C;;AAED,SAAS,kBAAkB,GAAG;AAC5B,GAAC,CAAC,MAAM,CAAC,CAAC,MAAM,CAAC,2FAA2F,CAAC,CAAC;AAC9G,GAAC,CAAC,MAAM,CAAC,CAAC,MAAM,CAAC,+FAA+F,CAAC,CAAC;CACnH;;AAED,SAAS,4BAA4B,GAAG;AACtC,SAAO,CAAC,cAAc,GAAG,YAAW;AAAE,WAAO,yBAAyB,CAAC;GAAE,CAAC;CAC3E;;AAED,SAAS,6BAA6B,CAAC,eAAe,EAAE;AACtD,GAAC,CAAC,6CAA6C,CAAC,CAC7C,GAAG,CAAC,EAAC,KAAK,EAAE,MAAM,EAAE,UAAU,EAAE,aAAa,EAAE,OAAO,EAAE,OAAO,EAAE,YAAY,EAAE,QAAQ,EAAC,CAAC,CACzF,IAAI,CAAC,eAAe,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,CACrC,MAAM,CAAC,8BAA8B,CAAC,CAAC;CAC3C;;AAED,SAAS,IAAI,GAAG;AACd,SAAO,GAAG,UAAU,CAAC,CAAC,CAAC,CAAC;AACxB,YAAU,GAAG,UAAU,CAAC,CAAC,CAAC,CAAC;AAC3B,UAAQ,GAAG,UAAU,CAAC,CAAC,CAAC,CAAC;;AAEzB,iBAAe,GAAG,oBAAoB,CAAC,OAAO,EAAE,UAAU,EAAE,QAAQ,CAAC,CAAC;;AAEtE,+BAA6B,CAAC,eAAe,CAAC,CAAC;CAChD;;AAED,SAAS,MAAM,GAAG,EACjB;;AAED,OAAO,CAAC,MAAM,GAAG,MAAM,CAAC;;AAExB,kBAAkB,EAAE,CAAC;AACrB,4BAA4B,EAAE,CAAC;AAC/B,IAAI,EAAE,CAAC","file":"calculate-time-leave.js","sourcesContent":["'use strict';\n\nvar punchin;\nvar lunchStart;\nvar lunchEnd;\nvar timeOfDeparture;\nvar $ = context.jQuery;\nvar moment = context.moment;\n\nfunction calculateTimeToLeave(punchin, lunchStart, lunchEnd) {\n  var morningSpan = lunchStart.diff(punchin);\n  var laborHours = moment.duration(8, 'hours');\n  var timeToGetLaborHours = laborHours.subtract(morningSpan, 'milliseconds');\n  console.log(punchin.format('HH:mm'));\n  console.log(lunchStart.format('HH:mm'));\n  console.log(lunchEnd.format('HH:mm'));\n  return lunchEnd.add(timeToGetLaborHours, 'milliseconds');\n}\n\nfunction obtainTime(index) {\n  var timeInText = $('.seccion2 tr:nth-child(2) > td:nth-child(' + index + ')').text();\n  return moment(timeInText.trim(), 'HH:mm:ss');\n}\n\nfunction importDependencies() {\n  $('head').append('<script src=\"https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.4/jquery.min.js\"></script>');\n  $('head').append('<script src=\"https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.10.6/moment.min.js\"></script>');\n}\n\nfunction askConfirmationToRefreshPage() {\n  context.onbeforeunload = function() { return 'Going to the home page?'; };\n}\n\nfunction printEstimatedTimeOfDeparture(timeOfDeparture) {\n  $('.seccion2 tr:nth-child(2) > td:nth-child(5)')\n    .css({color: '#c80', transition: 'all 2s ease', padding: '0.2em', 'text-align': 'center'})\n    .text(timeOfDeparture.format('HH:mm'))\n    .append('<br><span>(estimated)</span>');\n}\n\nfunction init() {\n  punchin = obtainTime(2);\n  lunchStart = obtainTime(3);\n  lunchEnd = obtainTime(4);\n\n  timeOfDeparture = calculateTimeToLeave(punchin, lunchStart, lunchEnd);\n\n  printEstimatedTimeOfDeparture(timeOfDeparture);\n}\n\nfunction Runner() {\n}\n\ncontext.Runner = Runner;\n\nimportDependencies();\naskConfirmationToRefreshPage();\ninit();\n"]}